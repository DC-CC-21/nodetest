<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= details.image %> Puzzle</title>
</head>
<body>
    <p style="display:none;" id="popup">Please choose a number of pieces.</p>
    <img src="./assets/<%= details.type %>/<%= details.image %>.jpg ">

    <label>4<input type="checkbox" name="pieceCount" onclick="unclick(this)"></label>   
    <label>25<input type="checkbox" name="pieceCount" onclick="unclick(this)"></label>
    <label>36<input type="checkbox" name="pieceCount" onclick="unclick(this)"></label>
    <label>64<input type="checkbox" name="pieceCount" onclick="unclick(this)"></label>
    <label>100<input type="checkbox" name="pieceCount" onclick="unclick(this)"></label>
    <a id='play' href="/play?type=<%=details.type%>&image=<%=details.image%>">PLAY</a>

    <script>
        let boxes = document.getElementsByName('pieceCount')
        function unclick(currentBox){
            boxes.forEach(box => {
                box.checked = false;
            });
            currentBox.checked = true;
        }
        document.getElementById('play').addEventListener("click", (e) => {
            let boxIsChecked = false
            boxes.forEach(box => {
                if(box.checked){
                    boxIsChecked = true;
                }
            });
            if(!boxIsChecked){
                e.preventDefault()
                document.getElementById('popup').style.display = 'block'
                return;
            }

        })
    </script>
</body>
</html>